<html>
<head>
 <title>Farbtastic</title>
 
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
 <script type="text/javascript" src="farbtastic.js"></script>
 <link rel="stylesheet" href="farbtastic.css" type="text/css" />
 <script type="text/javascript" charset="utf-8">
    var hexToRgb = function(hex){
        var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
        hex = hex.replace(shorthandRegex, function(m,r,g,b){
            return r + r + g + g + b + b;
        });

        var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
            r : parseInt(result[1], 16),
            g : parseInt(result[2], 16),
            b : parseInt(result[3], 16)
        } : null;
    };
    
    var get_color = function(rgb){
        return 'rgb('+rgb.r+','+rgb.g+','+rgb.b+')';
    };

    $(document).ready(function() {
        $('#picker').farbtastic(function(color){
            $('#color').val(get_color(hexToRgb(color)));   
        });
    });
 </script>


</head>
<body>

    
<form action="" style="width: 400px;">

<div class="form-item"><label for="color">Color:</label><input type="text" id="color" name="color" value="rgb(0,0,0)" /></div><div id="picker"></div>

</form>

</body>
</html>
